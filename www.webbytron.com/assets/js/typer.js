var Typer=function(element){this.element=element;var delim=element.dataset.delim||",",words=element.dataset.words||"override these,sample typing";this.words=words.split(delim).filter((function(v){return v})),this.delay=element.dataset.delay||200,this.loop=element.dataset.loop||"true",this.deleteDelay=element.dataset.deletedelay||element.dataset.deleteDelay||800,this.progress={word:0,char:0,building:!0,atWordEnd:!1,looped:0},this.typing=!0;var colors=element.dataset.colors||"black";this.colors=colors.split(","),this.element.style.color=this.colors[0],this.colorIndex=0,this.doTyping()};Typer.prototype.start=function(){this.typing||(this.typing=!0,this.doTyping())},Typer.prototype.stop=function(){this.typing=!1},Typer.prototype.doTyping=function(){var e=this.element,p=this.progress,w=p.word,c=p.char,currentChar=this.words[w][c];if(p.atWordEnd=!1,this.cursor){this.cursor.element.style.opacity="1",this.cursor.on=!0,clearInterval(this.cursor.interval);var itself=this.cursor;this.cursor.interval=setInterval((function(){itself.updateBlinkState()}),400)}p.building?(e.innerHTML+=currentChar,p.char+=1,p.char==this.words[w].length&&(p.building=!1,p.atWordEnd=!0)):(e.innerHTML=e.innerHTML.slice(0,-1),this.element.innerHTML||(p.building=!0,p.word=(p.word+1)%this.words.length,p.char=0,this.colorIndex=(this.colorIndex+1)%this.colors.length,this.element.style.color=this.colors[this.colorIndex])),p.atWordEnd&&(p.looped+=1),!p.building&&("false"==this.loop||this.loop<=p.looped)&&(this.typing=!1);var myself=this;setTimeout((function(){myself.typing&&myself.doTyping()}),p.atWordEnd?this.deleteDelay:this.delay)};var Cursor=function(element){this.element=element,this.cursorDisplay=element.dataset.cursordisplay||"_",element.innerHTML=this.cursorDisplay,this.on=!0,element.style.transition="all 0.1s";var myself=this;this.interval=setInterval((function(){myself.updateBlinkState()}),400)};function TyperSetup(){for(var typers={},elements=document.getElementsByClassName("typer"),i=0,e;e=elements[i++];)typers[e.id]=new Typer(e);for(var elements=document.getElementsByClassName("typer-stop"),i=0,e;e=elements[i++];){var owner=typers[e.dataset.owner];e.onclick=function(){owner.stop()}}for(var elements=document.getElementsByClassName("typer-start"),i=0,e;e=elements[i++];){var owner=typers[e.dataset.owner];e.onclick=function(){owner.start()}}for(var elements2=document.getElementsByClassName("cursor"),i=0,e;e=elements2[i++];){var t=new Cursor(e);t.owner=typers[e.dataset.owner],t.owner.cursor=t}}Cursor.prototype.updateBlinkState=function(){this.on?(this.element.style.opacity="0",this.on=!1):(this.element.style.opacity="1",this.on=!0)},TyperSetup();